(function(e){function t(t){for(var r,o,s=t[0],l=t[1],d=t[2],u=0,p=[];u<s.length;u++)o=s[u],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&p.push(n[o][0]),n[o]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);c&&c(t);while(p.length)p.shift()();return i.push.apply(i,d||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],r=!0,s=1;s<a.length;s++){var l=a[s];0!==n[l]&&(r=!1)}r&&(i.splice(t--,1),e=o(o.s=a[0]))}return e}var r={},n={app:0},i=[];function o(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=r,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(a,r,function(t){return e[t]}.bind(null,r));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/aoe4_stats/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var d=0;d<s.length;d++)t(s[d]);var c=l;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"0c7d":function(e,t,a){e.exports=a.p+"img/14.015136a9.png"},"20fc":function(e,t,a){e.exports=a.p+"img/12.bea5d7c9.png"},"2ca0a":function(e,t,a){},"2dec":function(e,t,a){e.exports=a.p+"img/8.a64290f2.png"},"2e46":function(e,t,a){e.exports=a.p+"img/2.990a8491.webp"},"2eb5":function(e,t,a){e.exports=a.p+"img/3.4b2bd12d.png"},"2ef4":function(e,t,a){e.exports=a.p+"img/10.5fbe377f.png"},"48a0":function(e,t,a){e.exports=a.p+"img/15.121ed6b9.png"},"49ec":function(e,t,a){e.exports=a.p+"img/16.51d2739e.png"},"565d":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),n=a("2f62"),i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("AppBar"),a("v-main",{staticClass:"align-center",style:{background:e.$vuetify.theme.themes["dark"].mainBackground}},[a("v-container",{attrs:{fluid:""}},[e.constantes?a("router-view",{key:e.$route.fullPath}):e._e(),e.constantes?e._e():a("LoadingPage")],1)],1)],1)},o=[],s=(a("d3b7"),function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)}),l=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"loading tw-flex tw-flex-col tw-h-full tw-mt-10 tw-mx-auto tw-justify-center tw-align-center"},[a("h2",{staticClass:"tw-text-center"},[e._v("Loading")]),a("div",{staticClass:"tw-flex tw-mt-2 tw-mx-auto"},[a("span"),a("span"),a("span"),a("span"),a("span"),a("span"),a("span")])])}],d={name:"LoadingPage"},c=d,u=(a("7fe9"),a("2877")),p=Object(u["a"])(c,s,l,!1,null,"1e1e185c",null),f=p.exports,m=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-app-bar",{attrs:{app:"",color:"rgba(0, 0, 0, 0.4)","hide-on-scroll":""}},[a("v-app-bar-nav-icon",{staticClass:"d-flex d-sm-none",attrs:{left:""},on:{click:function(t){e.drawer=!0}}}),a("my-link",{attrs:{classes:"text-h5 text-no-wrap",text:"AoE IV Analytics",to:"/"}}),a("v-tabs",{staticClass:"d-none d-sm-inline-flex justify-center",attrs:{centered:""}},[a("v-tab",{attrs:{text:"",to:"/"}},[e._v("Profile")]),a("v-tab",{attrs:{text:"",to:"/leaderboards"}},[e._v("Leaderboard")]),a("v-tab",{attrs:{text:"",to:"/about"}},[e._v("About")])],1)],1),a("v-navigation-drawer",{attrs:{absolute:"",left:"",temporary:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[a("v-list",{attrs:{dense:"",nav:""}},[a("v-list-item-group",{attrs:{"active-class":""},model:{value:e.group,callback:function(t){e.group=t},expression:"group"}},[a("v-list-item",{attrs:{to:"/"}},[a("v-list-item-title",[e._v("Search")])],1),a("v-list-item",{attrs:{to:"/leaderboards"}},[a("v-list-item-title",[e._v("Leaderboard")])],1),a("v-list-item",{attrs:{to:"/about"}},[a("v-list-item-title",[e._v("About")])],1)],1)],1)],1)],1)},g=[],v=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-hover",{scopedSlots:e._u([{key:"default",fn:function(t){var r=t.hover;return[a("router-link",{class:r?"blue--text":"white--text text-decoration-underline",attrs:{to:e.to}},[a("span",{class:e.classes},[e._v(e._s(e.text))])])]}}])})},b=[],h={name:"MyLink",props:{to:String,classes:String,text:String}},y=h,_=a("6544"),x=a.n(_),w=a("ce87"),C=Object(u["a"])(y,v,b,!1,null,"e3cf5824",null),k=C.exports;x()(C,{VHover:w["a"]});var M={name:"AppBar",components:{MyLink:k},data:function(){return{drawer:!1,group:null}}},O=M,P=a("40dc"),j=a("5bc1"),L=a("8860"),V=a("da13"),H=a("1baa"),S=a("5d23"),E=a("f774"),T=a("71a3"),B=a("fe57"),N=Object(u["a"])(O,m,g,!1,null,"e9f5bd00",null),$=N.exports;x()(N,{VAppBar:P["a"],VAppBarNavIcon:j["a"],VList:L["a"],VListItem:V["a"],VListItemGroup:H["a"],VListItemTitle:S["b"],VNavigationDrawer:E["a"],VTab:T["a"],VTabs:B["a"]});var A={name:"App",components:{AppBar:$,LoadingPage:f},computed:Object(n["c"])({constantes:function(e){return e.constantes.all}}),beforeMount:function(){r["a"].prototype.$leaderboards=[17,18,19,20],Array.prototype.sum=Array.prototype.sum||function(){return this.reduce((function(e,t){return e+t}),0)},Array.prototype.avg=Array.prototype.avg||function(){return this.sum()/this.length}},created:function(){this.$store.dispatch("constantes/getAllConstantes")},methods:{}},G=A,R=a("7496"),I=a("a523"),D=a("f6c4"),U=Object(u["a"])(G,i,o,!1,null,null,null),F=U.exports;x()(U,{VApp:R["a"],VContainer:I["a"],VMain:D["a"]});var W=a("8c4f"),Q=(a("565d"),a("f309")),Y=a("fcf4");r["a"].use(Q["a"]);var z=new Q["a"]({theme:{dark:!0,themes:{dark:{headerBackground:Y["a"].deepPurple,mainBackground:Y["a"].purple}}}}),J=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticClass:"align-center"},[a("div",{staticClass:"d-flex flex-column flex-sm-row justify-center"},[a("v-text-field",{staticClass:"flex-grow-0",attrs:{label:"Search player name...",solo:"",light:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchId.apply(null,arguments)}},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),a("v-btn",{staticClass:"tw-mx-5 tw-mt-1 tw-my-auto",attrs:{outlined:"",color:"rgba(255, 255, 255, 0.8)"},on:{click:e.searchId}},[e._v(" Search ")])],1),e.leaderboards[-1].length>0?a("LeaderBoardTable",{attrs:{items:e.leaderboards[-1]}}):e._e(),e.leaderboards[-1].length>0==0&&e.initialSearch?a("LoadingPage"):e._e()],1)},q=[],K=a("5530"),X=(a("b0c0"),a("4ec9"),a("3ca3"),a("ddb0"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-data-table",{staticClass:"elevation-10 mt-15",attrs:{headers:e.headers,items:e.items,"items-per-page":100,loading:0===e.items.length,"item-class":"text-xl","item-key":"profile_id"},on:{"click:row":e.goToProfile},scopedSlots:e._u([{key:"item.name",fn:function(t){var r=t.item;return[a("router-link",{attrs:{to:"/profile/"+r.profile_id}},[e._v(" "+e._s(r.name))])]}},{key:"item.winrate",fn:function(t){var r=t.item;return[a("div",{style:e.$vuetify.breakpoint.mobile?"display: flex; width:100%; margin-right:40vw":""},[a("WinrateProgressBar",{attrs:{games:r.games,losses:r.losses,wins:r.wins}})],1)]}}])},[a("v-data-table-header",{attrs:{headers:e.headers}})],1)}),Z=[],ee=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("div",{staticClass:"d-flex d-flew-row"},[a("div",[e._v(e._s(e.wins)+" "),e.$vuetify.breakpoint.mdAndUp?a("span",[e._v("wins")]):e._e()]),a("div",{staticClass:"d-flex flex-column align-center mx-2 flex-grow-1"},[a("v-progress-linear",{attrs:{value:e.wins/e.games*100,"background-color":"red",color:"green",height:"25"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.value;return[a("strong",[e._v(e._s(Math.ceil(r))+"%")])]}}])}),e._v(" "+e._s(e.games)+" games ")],1),a("div",[e._v(e._s(e.losses)),e.$vuetify.breakpoint.mdAndUp?a("span",[e._v(" losses")]):e._e()])])])},te=[],ae=(a("a9e3"),{name:"WinrateProgressBar",props:{games:Number,wins:Number,losses:Number}}),re=ae,ne=a("8e36"),ie=Object(u["a"])(re,ee,te,!1,null,"5db103c8",null),oe=ie.exports;x()(ie,{VContainer:I["a"],VProgressLinear:ne["a"]});var se={name:"LeaderboardTable",components:{WinrateProgressBar:oe},props:{items:{}},data:function(){return{headers:[{text:"Ranking",value:"rank",width:"1%"},{text:"User",value:"name",width:"1%"},{text:"Elo",value:"rating",width:"1%"},{text:"Country",value:"country",width:"1%"},{text:"",value:"winrate",width:"10%",align:"center",sortable:!1}]}},methods:{goToProfile:function(e){this.$router.push("/profile/"+e.profile_id)}}},le=se,de=a("8fea"),ce=a("1e71"),ue=Object(u["a"])(le,X,Z,!1,null,"79cc0cca",null),pe=ue.exports;x()(ue,{VDataTable:de["a"],VDataTableHeader:ce["a"]});var fe={name:"HelloWorld",components:{LoadingPage:f,LeaderBoardTable:pe},data:function(){return{name:"",initialSearch:!1}},computed:Object(n["c"])({constantes:function(e){return e.constantes.all},leaderboards:function(e){return e.leaderboards}}),beforeMount:function(){},mounted:function(){},methods:{searchId:function(){this.initialSearch=!0,this.$store.dispatch("leaderboards/searchLeaderboard",this.name)},selectPlayer:function(e){this.selectedPlayer=Object(K["a"])({},this.leaderboards.get(e))},unselectPLayer:function(){this.selectedPlayer=null},refreshData:function(){this.leaderboards=new Map(this.leaderboards),this.selectedPlayer&&(this.selectedPlayer=this.leaderboards.get(this.selectedPlayer.profile_id))}},watch:{selectedPlayer:function(e){e?document.documentElement.classList.add("overflow-y-hidden"):document.documentElement.classList.remove("overflow-y-hidden")}}},me=fe,ge=a("8336"),ve=a("8654"),be=Object(u["a"])(me,J,q,!1,null,"aa9e2cb2",null),he=be.exports;x()(be,{VBtn:ge["a"],VContainer:I["a"],VTextField:ve["a"]});var ye=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("div",{staticClass:"tw-flex"},[a("v-btn-toggle",{staticClass:"tw-mx-auto",attrs:{mandatory:""},model:{value:e.gameMode,callback:function(t){e.gameMode=t},expression:"gameMode"}},e._l(e.constantes.leaderboards.filter((function(e){return-1!=e.id})),(function(t){return a("v-btn",{key:t.id,attrs:{value:t.id,type:"button"}},[e._v(" "+e._s(t.label)+" ")])})),1)],1),a("LeaderboardTable",{attrs:{items:e.leaderboards[this.gameMode]}})],1)},_e=[],xe={name:"LeaderBoard",components:{LeaderboardTable:pe},props:{name:null},data:function(){return{gameMode:17,headers:[{text:"User",value:"name"},{text:"Ranking",value:"rank"},{text:"Elo",value:"rating"},{text:"Games",value:"games"},{text:"Wins",value:"wins"},{text:"Losses",value:"losses"},{text:"Winrate",value:"winrate"},{text:"Country",value:"country"}]}},created:function(){this.searchGameMode()},computed:Object(n["c"])({constantes:function(e){return e.constantes.all},leaderboards:function(e){return e.leaderboards}}),methods:{searchGameMode:function(){this.$store.dispatch("leaderboards/getLeaderboard",{leaderboard_id:this.gameMode,count:1e4})}},watch:{gameMode:function(){this.leaderboards[this.gameMode].length>0||this.searchGameMode()}}},we=xe,Ce=a("a609"),ke=Object(u["a"])(we,ye,_e,!1,null,"c5b598a4",null),Me=ke.exports;x()(ke,{VBtn:ge["a"],VBtnToggle:Ce["a"],VContainer:I["a"]});a("7db0"),a("a434");var Oe=a("1da1"),Pe=(a("96cf"),a("bc3a")),je=a.n(Pe),Le={getLeaderboard:function(e,t,a){je.a.get("https://aoeiv.net/api/leaderboard?game=aoe4&leaderboard_id="+e+"&start=0&count="+t).then((function(e){return a(e)}))},searchLeaderboard:function(e,t){return Object(Oe["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.abrupt("return",je.a.get("https://aoeiv.net/api/leaderboard?game=aoe4&leaderboard_id="+e+"&start=0&count=1000&search="+t));case 1:case"end":return a.stop()}}),a)})))()},getPlayerLeaderboard:function(e,t,a){je.a.get("https://aoeiv.net/api/leaderboard?game=aoe4&leaderboard_id="+e+"&start=0&count=1&profile_id="+t).then((function(e){return a(e)}))},getGameHistory:function(e,t){je.a.get("https://aoeiv.net/api/player/matches?game=aoe4&count=1000&profile_id="+e).then((function(e){t(e)}))},getRatingHistory:function(e,t,a){je.a.get("https://aoeiv.net/api/player/ratinghistory?game=aoe4&leaderboard_id="+e+"&count=10000&profile_id="+t).then((function(e){return a(e)}))},getConstantes:function(e,t){je.a.get("https://aoeiv.net/api/strings?game=aoe4&language="+e).then((function(e){return t(e)}))}},Ve=function(){return{all:null}},He={getAllConstantes:function(e){var t=e.commit;Le.getConstantes("en",(function(e){t("setConstantes",e)}))}},Se={gameMode:function(e){return function(t){return e.all.leaderboards?e.all.leaderboards.find((function(e){return e.id==t})):null}},civ:function(e){return function(t){return e.all.civ?e.all.civ.find((function(e){return e.id==t})):null}},civName:function(e){return function(t){var a;return e.all.civ?null===(a=e.all.civ.find((function(e){return e.id==t})))||void 0===a?void 0:a.string:""}},gameModeName:function(e){return function(t){var a;return e.all.leaderboards?null===(a=e.all.leaderboards.find((function(e){return e.id==t})))||void 0===a?void 0:a.label:""}},gameModeNameFromNumSlots:function(e){return function(t){var a;return e.all.leaderboards?null===(a=e.all.leaderboards.find((function(e){return e.nbPlayers==t})))||void 0===a?void 0:a.label:""}}},Ee={setConstantes:function(e,t){e.all=t.data,e.all.civ.splice(0,0,{id:-1,string:"All civilizations"}),e.all.leaderboards=[{id:-1,label:"All modes",nbPlayers:0},{id:17,label:"QM 1v1",nbPlayers:2},{id:18,label:"QM 2v2",nbPlayers:4},{id:19,label:"QM 3v3",nbPlayers:8},{id:20,label:"QM 4v4",nbPlayers:16}]}},Te={namespaced:!0,state:Ve,getters:Se,actions:He,mutations:Ee},Be=(a("159b"),a("820e"),function(){return{"-1":[],17:[],18:[],19:[],20:[]}}),Ne={getLeaderboard:function(e,t){var a=e.commit,r=t.leaderboard_id,n=t.count;Le.getLeaderboard(r,n,(function(e){a("setLeaderboard",{leaderboard_id:r,leaderboard:e.data.leaderboard})}))},searchLeaderboard:function(e,t){var a=e.commit;a("setLeaderboard",{leaderboard_id:n,leaderboard:[]});var r=[],n="-1",i=[];Qe.state.constantes.all.leaderboards.forEach((function(e){-1!=e.id&&r.push(Le.searchLeaderboard(e.id,t))})),Promise.allSettled(r).then((function(e){e.forEach((function(e){e.value.data.leaderboard.forEach((function(e){var t=i.find((function(t){return t.profile_id===e.profile_id}));t?(t.games+=e.games,t.wins+=e.wins,t.losses+=e.losses):i.push(e)}))})),a("setLeaderboard",{leaderboard_id:n,leaderboard:i})}))}},$e={},Ae={setLeaderboard:function(e,t){var a=t.leaderboard_id,r=t.leaderboard;e[a]=r}},Ge={namespaced:!0,state:Be,getters:$e,actions:Ne,mutations:Ae},Re=a("ade3"),Ie=(a("d81d"),a("4de4"),a("b64b"),function(){return{all:{}}}),De={getGameHistory:function(e,t){var a=e.commit;Le.getGameHistory(t,(function(e){a("setGameHistory",{profile_id:t,gameHistory:e})}))},getRatingHistory:function(e,t){var a=e.commit,r=t.leaderboard_id,n=t.profile_id;Le.getRatingHistory(r,n,(function(e){a("setRatingHistory",{profile_id:n,leaderboard_id:r,ratingHistory:e})}))},getPlayerLeaderboard:function(e,t){var a=e.commit,r=t.leaderboard_id,n=t.profile_id;Le.getPlayerLeaderboard(r,n,(function(e){a("setPlayerLeaderboard",{profile_id:n,leaderboard_id:r,leaderboard:e})}))},refreshPlayerData:function(e,t){var a=e.dispatch;a("getGameHistory",t),a("getRatingHistory",{leaderboard_id:17,profile_id:t}),Qe.state.constantes.all.leaderboards.forEach((function(e){-1!=e.id&&a("getPlayerLeaderboard",{leaderboard_id:e.id,profile_id:t})}))}},Ue={player:function(e,t){return function(a){var r=Object(K["a"])({},e.all[a]);return r.mainCiv=t.playerCiv(a),r}},playerCiv:function(e){return function(t){var a;if(null!==(a=e.all[t])&&void 0!==a&&a.gameHistory)return e.all[t].gameHistory.map((function(e){return e.players.find((function(e){return e.profile_id==t})).civ})).reduce((function(e,t,a,r){return r.filter((function(t){return t===e})).length>=r.filter((function(e){return e===t})).length?e:t}),null)}}},Fe={setGameHistory:function(e,t){var a=t.profile_id,n=t.gameHistory;e.all[a]?r["a"].set(e.all[a],"gameHistory",n.data):r["a"].set(e.all,a,{gameHistory:n.data})},setRatingHistory:function(e,t){var a=t.profile_id,n=t.ratingHistory;e.all[a]?r["a"].set(e.all[a],"ratingHistory",n.data):r["a"].set(e.all,a,{ratingHistory:n.data})},setPlayerLeaderboard:function(e,t){var a=t.profile_id,n=t.leaderboard_id,i=t.leaderboard;if(i.data.leaderboard[0]){var o,s=Object(K["a"])({},i.data.leaderboard[0]);if(e.all[a])if(e.all[a].leaderboards){var l,d=null!==(l=e.all[a].leaderboards["-1"])&&void 0!==l?l:null;Object.keys(s).length>0&&d&&!e.all[a].leaderboards[n]&&r["a"].set(e.all[a].leaderboards,"-1",Object(K["a"])(Object(K["a"])({},d),{},{games:d.games+s.games,wins:d.wins+s.wins,losses:d.losses+s.losses,rating:Math.max(d.rating,s.rating)})),r["a"].set(e.all[a].leaderboards,n,s)}else{var c;r["a"].set(e.all[a],"leaderboards",(c={},Object(Re["a"])(c,n,s),Object(Re["a"])(c,"-1",s),c))}else r["a"].set(e.all,a,{leaderboards:(o={},Object(Re["a"])(o,n,s),Object(Re["a"])(o,"-1",s),o)})}}},We={namespaced:!0,state:Ie,getters:Ue,actions:De,mutations:Fe};r["a"].use(n["a"]);var Qe=new n["a"].Store({modules:{constantes:Te,leaderboards:Ge,players:We}}),Ye=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container mx-auto px-4 sm:px-8 "},[a("div",{staticClass:"text-h5 mb-5"},[e._v("About me")]),a("p",[e._v(" My name is Yohann Bethoule, I'm a web developer from France. I'm also an Aoe 4 player and I made this website to be able to see more game statistics. ")]),a("v-divider",{staticClass:"my-10"}),a("div",{staticClass:"text-h5 mb-5"},[e._v("Check the sources")]),e._m(0),e._m(1)],1)},ze=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("p",[e._v(" You can find the source code of the application over there : "),a("a",{attrs:{href:"https://github.com/YohannBethoule/aoe4_stats",target:"_blank"}},[e._v("https://github.com/YohannBethoule/aoe4_stats")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("p",[e._v(" This was made using the API from "),a("a",{attrs:{href:"https://aoeiv.net/#api",target:"_blank"}},[e._v("aeoiv.net")])])}],Je={name:"About"},qe=Je,Ke=a("ce7e"),Xe=Object(u["a"])(qe,Ye,ze,!1,null,"360d09f4",null),Ze=Xe.exports;x()(Xe,{VDivider:Ke["a"]});var et=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[e.playerLoaded?e._e():r("LoadingPage"),e.playerLoaded?r("div",[r("div",{staticClass:"text-md-h3 tw-flex mb-10"},[r("span",{staticClass:"mr-5"},[e._v(e._s(e.player.leaderboards["-1"].name))]),r("v-tooltip",{attrs:{right:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[e.playerLoaded?r("v-img",e._g({attrs:{alt:"Main civ : "+e.getNameCiv(e.player.mainCiv),src:a("a7f0")("./"+e.player.mainCiv+".webp"),"max-height":"50","max-width":"80"}},n)):e._e()]}}],null,!1,2391572265)},[r("span",[e._v("Main civ : "+e._s(e.getNameCiv(e.player.mainCiv)))])]),e.playerLoaded?e._e():r("v-skeleton-loader",{attrs:{height:"50",type:"image",width:"80"}})],1),r("v-container",{attrs:{"grid-list-lg":""}},[r("v-layout",[r("v-row",e._l(Object.keys(e.player.leaderboards),(function(t){return r("v-col",{key:t,staticClass:"col-12 col-md-4"},[r("GameMode",{attrs:{data:e.player.leaderboards[t],mode:e.constantes.leaderboards.find((function(e){return e.id==t}))}})],1)})),1)],1)],1),r("CivStatsHeavyCard",{attrs:{profile_id:e.profile_id}})],1):e._e()],1)},tt=[],at=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{staticClass:"my-5  tw-flex-auto",attrs:{elevation:"15"}},[a("v-card-title",[a("span",{staticClass:"text-h6"},[e._v(e._s(e.mode.label))])]),a("v-card-text",{staticClass:"tw-flex-auto tw-flex-col tw-justify-space-between"},[a("p",[-1==e.mode.id?a("span",[e._v("Highest ")]):e._e(),e._v("Ranking : "+e._s(e.data.rank))]),a("p",[-1==e.mode.id?a("span",[e._v("Highest ")]):e._e(),e._v("Elo : "+e._s(Math.round(e.data.rating)))]),a("p",[a("WinrateProgressBar",{attrs:{games:e.data.games,losses:e.data.losses,wins:e.data.wins}})],1)])],1)},rt=[],nt={name:"GameMode",components:{WinrateProgressBar:oe},props:{data:Object,mode:Object}},it=nt,ot=a("b0af"),st=a("99d9"),lt=Object(u["a"])(it,at,rt,!1,null,"79513a70",null),dt=lt.exports;x()(lt,{VCard:ot["a"],VCardText:st["a"],VCardTitle:st["b"]});var ct=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("span",{staticClass:"font-italic"},[e._v("(Below informations are computed from the match history. The latter being incomplete most of the time, you can note that the total number of games doesn't add up to the total displayed above.)")]),r("div",{staticClass:"tw-flex tw-items-center tw-justify-center tw-mb-10 flex-wrap"},[r("v-btn-toggle",{staticClass:"mr-10 flex-md-row flex-column",attrs:{mandatory:""},model:{value:e.gameMode_id,callback:function(t){e.gameMode_id=t},expression:"gameMode_id"}},e._l(e.constantes.leaderboards,(function(t){return r("v-btn",{key:t.id,attrs:{value:t.id,type:"button"}},[e._v(" "+e._s(t.label)+" ("+e._s(e.getGameCountByMode(t.id))+") ")])})),1),r("v-select",{staticClass:"pt-7",attrs:{"item-text":function(t){return e.getCivName(t.id)+" ("+e.getGameCountByCiv(t.id)+")"},items:e.constantes.civ,"item-value":"id",label:"Select civilization",solo:""},model:{value:e.civ_id,callback:function(t){e.civ_id=t},expression:"civ_id"}})],1),r("span",{staticClass:"tw-flex tw-my-10 tw-space-x-5"},[r("h4",{staticClass:"text-h4"},[e._v(e._s(e.getGameCount())+" matches played")]),r("v-chip",{staticClass:"my-auto",attrs:{dark:""}},[e._v(" "+e._s(e.gameMode.label)+" ")]),this.civ.id>=0?r("v-img",{attrs:{src:a("a7f0")("./"+this.civ.id+".webp"),contain:"","max-height":"50","max-width":"80"}}):e._e()],1),r("MatchHistory",{attrs:{games:e.games(),profile_id:e.profile_id}})],1)},ut=[],pt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-data-table",{staticClass:"elevation-10",attrs:{headers:e.headers,items:e.games,"single-expand":!0,expanded:e.expanded,"item-key":"match_id","show-expand":"","items-per-page":10},on:{"update:expanded":function(t){e.expanded=t}},scopedSlots:e._u([{key:"item.started",fn:function(t){var a=t.item;return[e._v(" "+e._s(new Date(1e3*a.started).toLocaleString())+" ")]}},{key:"item.map_type",fn:function(t){var a=t.item;return[e._v(" "+e._s(e.constantes.map_type.find((function(e){return e.id===a.map_type})).string)+" ")]}},{key:"item.num_slots",fn:function(t){var a=t.item;return[r("v-chip",{attrs:{dark:""}},[e._v(" "+e._s(e.gameModeNameFromNumSlots(a.num_slots))+" ")])]}},{key:"item.rating",fn:function(t){var a=t.item;return[e._v(" "+e._s(e.getTeamRating(a,!0))+" ")]}},{key:"item.opponentRating",fn:function(t){var a=t.item;return[e._v(" "+e._s(e.getTeamRating(a,!1))+" ")]}},{key:"expanded-item",fn:function(t){var n=t.headers,i=t.item;return[r("td",{staticClass:"tw-text-xl pt-5",attrs:{colspan:n.length}},[r("h3",{staticClass:"text-xl mb-3"},[e._v(" "+e._s(new Date(1e3*i.started).toLocaleString())+" ")]),r("div",{staticClass:"tw-flex tw-space-x-12 tw-items-center tw-place-content-center"},[r("div",{staticClass:"tw-flex tw-flex-col tw-text-xl"},[r("v-img",{staticClass:"mx-auto",attrs:{src:a("f799")("./"+i.map_type+".png"),alt:"minimap "+e.constantes.map_type.find((function(e){return e.id===i.map_type})).string,"max-height":"150","max-width":"150"}}),r("p",{staticClass:"text-center"},[e._v(e._s(e.constantes.map_type.find((function(e){return e.id===i.map_type})).string))])],1),r("div",{staticClass:"tw-flex tw-flex-col"},e._l(i.players.filter((function(t){return t.team===i.players.find((function(t){return t.profile_id==e.profile_id})).team})),(function(e){return r("div",{key:e.profile_id},[r("MatchHistoryPlayerCard",{attrs:{player:e,"is-ally":!0}})],1)})),0),r("div",{staticClass:"text-xl tw-align-center tw-my-auto"},[e._v(" VS ")]),r("div",{staticClass:"tw-flex tw-flex-col"},e._l(i.players.filter((function(t){return t.team!==i.players.find((function(t){return t.profile_id==e.profile_id})).team})),(function(e){return r("div",{key:e.profile_id},[r("MatchHistoryPlayerCard",{attrs:{player:e,"is-ally":!1}})],1)})),0)])])]}}])})],1)},ft=[],mt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{staticClass:"tw-m-5 tw-p-5 white--text",attrs:{elevation:"15",rounded:"","min-height":"100",height:"100",color:e.isAlly?"blue":"red","min-width":"300"}},[a("div",[a("my-link",{attrs:{text:e.player.name,to:"/profile/"+e.player.profile_id,classes:"text-lg-h6"}})],1),a("div",[e._v(" Elo : "+e._s(e.player.rating?e.player.rating:"Unknown")+" ")])])},gt=[],vt={name:"MatchHistoryPlayerCard",components:{MyLink:k},props:{player:Object,isAlly:Boolean},methods:{}},bt=vt,ht=Object(u["a"])(bt,mt,gt,!1,null,"381630da",null),yt=ht.exports;x()(ht,{VCard:ot["a"]});var _t="Unknown",xt={name:"MatchHistory",components:{MatchHistoryPlayerCard:yt},props:{profile_id:String,games:Array},data:function(){return{expanded:[],headers:[{text:"Date",value:"started"},{text:"Mode",value:"num_slots"},{text:"Team Rating",value:"rating"},{text:"Opponent Team Rating",value:"opponentRating"},{text:"Map",value:"map_type"}]}},computed:Object(K["a"])(Object(K["a"])(Object(K["a"])({},Object(n["b"])({getPlayer:"players/player",gameModeNameFromNumSlots:"constantes/gameModeNameFromNumSlots"})),Object(n["c"])({constantes:function(e){return e.constantes.all},leaderboards:function(e){return e.leaderboards}})),{},{player:function(){return this.getPlayer(this.profile_id)}}),methods:{getMyRating:function(e){var t=this;return e.find((function(e){return e.profile_id!=t.profile_id})).rating},getTeamRating:function(e,t){var a=this,r=parseInt(e.players.filter((function(r){return t===(r.team===e.players.find((function(e){return e.profile_id==a.profile_id})).team)&&null!=r.rating})).map((function(e){return e.rating})).avg());return isNaN(r)?_t:r}}},wt=xt,Ct=a("cc20"),kt=a("adda"),Mt=Object(u["a"])(wt,pt,ft,!1,null,"e59253a8",null),Ot=Mt.exports;x()(Mt,{VChip:Ct["a"],VDataTable:de["a"],VImg:kt["a"]});var Pt={name:"CivStatsHeavyCard",components:{MatchHistory:Ot},props:{profile_id:String},data:function(){return{gameMode_id:-1,civ_id:-1}},computed:Object(K["a"])(Object(K["a"])(Object(K["a"])({},Object(n["b"])({getPlayer:"players/player",getModeName:"constantes/gameModeName",getCivName:"constantes/civName",getCiv:"constantes/civ",getMode:"constantes/gameMode"})),Object(n["c"])({constantes:function(e){return e.constantes.all},leaderboards:function(e){return e.leaderboards}})),{},{player:function(){return this.getPlayer(this.profile_id)},civ:function(){return this.getCiv(this.civ_id)},gameMode:function(){return this.getMode(this.gameMode_id)},playerLoaded:function(){return this.player&&this.player.leaderboards&&this.player.gameHistory}}),methods:{games:function(){var e=this;return this.player.gameHistory?this.player.gameHistory.filter((function(t){return t.players.find((function(t){return t.profile_id==e.profile_id})).civ===e.civ.id||-1===e.civ.id})).filter((function(t){return t.num_slots===e.gameMode.nbPlayers||0===e.gameMode.nbPlayers})):[]},getGameCount:function(){return this.games().length},getGameCountByMode:function(e){var t=this;return this.player.gameHistory.filter((function(a){var r,n;return a.num_slots===(null===(r=t.getMode(e))||void 0===r?void 0:r.nbPlayers)||0===(null===(n=t.getMode(e))||void 0===n?void 0:n.nbPlayers)})).length},getGameCountByCiv:function(e){var t=this;return this.player.gameHistory.filter((function(a){return a.players.find((function(e){return e.profile_id==t.profile_id})).civ===e||-1===e})).length}}},jt=Pt,Lt=a("b974"),Vt=Object(u["a"])(jt,ct,ut,!1,null,"7a63dfbd",null),Ht=Vt.exports;x()(Vt,{VBtn:ge["a"],VBtnToggle:Ce["a"],VChip:Ct["a"],VImg:kt["a"],VSelect:Lt["a"]});var St={name:"Profile",components:{LoadingPage:f,GameMode:dt,CivStatsHeavyCard:Ht},props:{profile_id:String},data:function(){return{}},computed:Object(K["a"])(Object(K["a"])(Object(K["a"])({},Object(n["b"])({getPlayer:"players/player",getNameCiv:"constantes/civName"})),Object(n["c"])({constantes:function(e){return e.constantes.all},leaderboards:function(e){return e.leaderboards}})),{},{player:function(){return this.getPlayer(this.profile_id)},playerLoaded:function(){return this.player&&this.player.leaderboards&&this.player.gameHistory}}),created:function(){this.player.leaderboards||this.$store.dispatch("players/refreshPlayerData",this.profile_id)}},Et=St,Tt=a("62ad"),Bt=a("a722"),Nt=a("0fd9"),$t=a("3129"),At=a("3a2f"),Gt=Object(u["a"])(Et,et,tt,!1,null,"54fcf805",null),Rt=Gt.exports;x()(Gt,{VCol:Tt["a"],VContainer:I["a"],VImg:kt["a"],VLayout:Bt["a"],VRow:Nt["a"],VSkeletonLoader:$t["a"],VTooltip:At["a"]}),r["a"].config.productionTip=!1,r["a"].use(W["a"]),r["a"].use(n["a"]);var It=[{path:"",component:he},{path:"/profile/:profile_id",component:Rt,props:!0},{path:"/leaderboards",component:Me},{path:"/about",component:Ze}],Dt=new W["a"]({routes:It});new r["a"]({vuetify:z,router:Dt,store:Qe,render:function(e){return e(F)}}).$mount("#app")},"59e8":function(e,t,a){e.exports=a.p+"img/5.97f3c520.webp"},"7cda":function(e,t,a){e.exports=a.p+"img/0.2304da9b.webp"},"7fe9":function(e,t,a){"use strict";a("2ca0a")},8442:function(e,t,a){e.exports=a.p+"img/5.86d49aa7.png"},9137:function(e,t,a){e.exports=a.p+"img/13.ae52f20e.png"},"98f1":function(e,t,a){e.exports=a.p+"img/1.e7890e19.png"},a1c9:function(e,t,a){e.exports=a.p+"img/4.971fa572.png"},a279:function(e,t,a){e.exports=a.p+"img/6.1211e253.webp"},a7f0:function(e,t,a){var r={"./0.webp":"7cda","./1.webp":"d0f9","./2.webp":"2e46","./3.webp":"a858","./4.webp":"cf6f","./5.webp":"59e8","./6.webp":"a279","./7.webp":"cbc0"};function n(e){var t=i(e);return a(t)}function i(e){if(!a.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}n.keys=function(){return Object.keys(r)},n.resolve=i,e.exports=n,n.id="a7f0"},a858:function(e,t,a){e.exports=a.p+"img/3.b3a86048.webp"},bea5:function(e,t,a){e.exports=a.p+"img/2.f10ced63.png"},ca75:function(e,t,a){e.exports=a.p+"img/6.5585f7d8.png"},cbc0:function(e,t,a){e.exports=a.p+"img/7.f2a35549.webp"},cf6f:function(e,t,a){e.exports=a.p+"img/4.a7d25dff.webp"},d0f9:function(e,t,a){e.exports=a.p+"img/1.dcbf8ec8.webp"},d4b9:function(e,t,a){e.exports=a.p+"img/7.0062f97e.png"},ea54:function(e,t,a){e.exports=a.p+"img/11.96641b2b.png"},f799:function(e,t,a){var r={"./0.png":"f920","./1.png":"98f1","./10.png":"2ef4","./11.png":"ea54","./12.png":"20fc","./13.png":"9137","./14.png":"0c7d","./15.png":"48a0","./16.png":"49ec","./2.png":"bea5","./3.png":"2eb5","./4.png":"a1c9","./5.png":"8442","./6.png":"ca75","./7.png":"d4b9","./8.png":"2dec","./9.png":"fc4c"};function n(e){var t=i(e);return a(t)}function i(e){if(!a.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}n.keys=function(){return Object.keys(r)},n.resolve=i,e.exports=n,n.id="f799"},f920:function(e,t,a){e.exports=a.p+"img/0.08b04661.png"},fc4c:function(e,t,a){e.exports=a.p+"img/9.21078924.png"}});
//# sourceMappingURL=app.43f796df.js.map